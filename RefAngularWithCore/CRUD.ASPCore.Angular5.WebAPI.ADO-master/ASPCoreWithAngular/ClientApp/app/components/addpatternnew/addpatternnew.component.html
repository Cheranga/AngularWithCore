
<div class="panel panel-primary panel-margins">
    <div class="panel-heading">
        <h3 class="panel-title">{{title}}</h3>
    </div>
    <div class="panel-body">
        <form (ngSubmit)="savePattern()" #formDir="ngForm" novalidate>
            <div class="form-group">
                <label for="patternName">Name</label>
                <input class="form-control" type="text" [(ngModel)]="patternName" name="patternName">
            </div>

            <div>
                <button type="button" class="btn btn-sm btn-primary" (click)="addCharacter()" [disabled]="disableAdd">
                    <span class="glyphicon glyphicon-plus"></span>&nbsp;Add Character
                </button>

                <button type="button" class="btn btn-sm btn-danger" (click)="deleteAllCharacters()" *ngIf="characters.length > 0">
                    <span class="glyphicon glyphicon-remove"></span>&nbsp;Delete All
                </button>
            </div>
            <div>
                <table class='table' *ngIf="characters">
                    <thead>
                    <tr>
                        <th class="col-sm-3">&nbsp;</th>
                        <th class="col-sm-2">Include</th>
                        <th class="col-sm-2">Exclude</th>
                        <th class="col-sm-1">Min # Of</th>
                        <th class="col-sm-1">Max # Of</th>
                        <th class="col-sm-3">&nbsp;</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr *ngFor="let character of characters">
                        <td class="col-sm-3">
                            <div class="form-group">
                                <div>
                                    <select class="form-control" data-val="true" [(ngModel)]="character.flowType" name="{{character.id}}flowtype">
                                        <option value=0>Starts With</option>
                                        <option value=1>Starts With Pattern</option>
                                        <option value=2>Contains</option>
                                        <option value=3>Contains Pattern</option>
                                        <option value=4>Ends With</option>
                                        <option value=5>Ends With Pattern</option>
                                    </select>
                                </div>
                            </div>
                        </td>
                        <td class="col-sm-2">
                            <div class="form-group">
                                <div>
                                    <input class="form-control" type="text" [(ngModel)]="character.include" name="{{character.id}}include">
                                </div>
                            </div>
                        </td>
                        <td class="col-sm-2">
                            <div class="form-group">
                                <div>
                                    <input class="form-control" type="text" [(ngModel)]="character.exclude" name="{{character.id}}exclude">
                                </div>
                            </div>
                        </td>
                        <td class="col-sm-2">
                            <div class="form-group">
                                <div>
                                    <input class="form-control" type="text" [(ngModel)]="character.minOccurences" name="{{character.id}}minOccurences">
                                </div>
                            </div>
                        </td>
                        <td class="col-sm-2">
                            <div class="form-group">
                                <div>
                                    <input class="form-control" type="text" [(ngModel)]="character.maxOccurences" name="{{character.id}}maxOccurences">
                                </div>
                            </div>
                        </td>
                        <td class="col-sm-2">
                            <button type="button" class="btn btn-sm btn-danger" (click)="deleteCharacter(character)">
                                <span class="glyphicon glyphicon-remove"></span>
                            </button>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <div class="form-group pull-right">

                    <button type="button" class="btn btn-success">Verify</button>
                    <button type="submit" class="btn btn-primary">Save</button>
                    <a class="btn btn-primary btn-warning" [routerLink]="['/plate/patterns', id]">Cancel</a>

                </div>
            </div>


        </form>

    </div>
</div>

